{% comment %}
  Generic feature grid with optional icons. Used for highlights like "Fácil, Simple, Rápido".
{% endcomment %}
<section class="home-feature-grid color-{{ section.settings.color_scheme }} gradient">
  <div class="page-width">
    <div class="home-feature-grid__header">
      {% if section.settings.preheading != blank %}
        <p class="home-feature-grid__eyebrow">{{ section.settings.preheading }}</p>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="home-feature-grid__heading">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.description != blank %}
        <div class="home-feature-grid__description rte">{{ section.settings.description }}</div>
      {% endif %}
      {% if section.settings.button_label != blank %}
        <div class="home-feature-grid__actions">
          <a
            {% if section.settings.button_link == blank %}
              role="link" aria-disabled="true"
            {% else %}
              href="{{ section.settings.button_link }}"
            {% endif %}
            class="button button--{{ section.settings.button_style }}"
          >
            {{ section.settings.button_label | escape }}
          </a>
        </div>
      {% endif %}
    </div>
    {% if section.blocks.size > 0 %}
      <div class="home-feature-grid__items">
        {% for block in section.blocks %}
          <article class="home-feature-grid__item" {{ block.shopify_attributes }}>
            {% if block.settings.icon != blank %}
              {{
                block.settings.icon
                | image_url: width: 120
                | image_tag:
                    class: 'home-feature-grid__icon',
                    loading: 'lazy',
                    alt: block.settings.icon_alt | default: block.settings.title
              }}
            {% endif %}
            {% if block.settings.title != blank %}
              <h3 class="home-feature-grid__item-title">{{ block.settings.title }}</h3>
            {% endif %}
            {% if block.settings.text != blank %}
              <div class="home-feature-grid__item-text rte">{{ block.settings.text }}</div>
            {% endif %}
            {% if block.settings.link_label != blank %}
              <a
                {% if block.settings.link == blank %}
                  role="link" aria-disabled="true"
                {% else %}
                  href="{{ block.settings.link }}"
                {% endif %}
                class="home-feature-grid__item-link"
              >
                {{ block.settings.link_label | escape }}
              </a>
            {% endif %}
          </article>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Home feature grid",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "preheading",
      "label": "Pre heading"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "Sistema digital"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Descripción"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Etiqueta botón"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Estilo del botón",
      "options": [
        {"value": "primary", "label": "Primario"},
        {"value": "secondary", "label": "Secundario"}
      ],
      "default": "secondary"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Enlace botón"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Esquema de color",
      "default": "scheme-2"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Característica",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icono"
        },
        {
          "type": "text",
          "id": "icon_alt",
          "label": "Texto alternativo icono"
        },
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Título",
          "default": "Fácil"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Descripción",
          "default": "<p>Describe brevemente la ventaja que ofreces.</p>"
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "Etiqueta enlace"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Enlace"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Home feature grid",
      "category": "GETCH"
    }
  ]
}
{% endschema %}
